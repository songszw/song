$(function(){function e(e,s){var t=!0;$(e).click(function(){t?($(this).css("background",'url("../img/userData/jiantou_up.png") 170px center no-repeat'),$(s).css("display","none"),t=!1):($(this).css("background",'url("../img/userData/arrow_two_up.png") 170px center no-repeat'),$(s).css("display","block"),t=!0)})}function s(e){$(e).focus(function(){$(this).removeClass("grayshow"),$(this).removeClass("redshow"),$(this).addClass("blueshow")}),$(e).blur(function(){$(this).removeClass("blueshow"),""==$(this).val()?$(this).addClass("redshow").removeClass("grayshow"):$(this).addClass("grayshow").removeClass("redshow","blueshow")})}function t(){var e=!0;$(".modifyButtonA").click(function(){e?($(".ShowBtnA").removeClass("activeBtn"),$(".foldBtnA").addClass("activeBtn"),$(".phoneInputA").css("display","block"),$(".ueserSet-up").height($(".Safety").height()),e=!1):($(".foldBtnA").removeClass("activeBtn"),$(".ShowBtnA").addClass("activeBtn"),$(".phoneInputA").css("display","none"),$(".ueserSet-up").height($(".Safety").height()),e=!0)})}function n(){var e=!0;$(".modifyButtonB").click(function(){e?($(".ShowBtnB").removeClass("activeBtn"),$(".foldBtnB").addClass("activeBtn"),$(".phoneInputB").css("display","block"),$(".ueserSet-up").height($(".Safety").height()),e=!1):($(".foldBtnB").removeClass("activeBtn"),$(".ShowBtnB").addClass("activeBtn"),$(".phoneInputB").css("display","none"),$(".ueserSet-up").height($(".Safety").height()),e=!0)})}function a(){var e=/^1(3|4|5|7|8)\d{9}$/;$("#beforePhone").blur(function(){e.test($(this).val())?($(".phoneMarkA").css("display","block"),$(".MarkTextA").css("visibility","hidden")):($(".MarkTextA").css("visibility","visible"),$(".phoneMarkA").css("display","none"))}),$(".nextBtnA").click(function(){e.test($("#beforePhone").val())&&""!=$("#beforePhone")?($(".phoneCheckA").removeClass("showb"),$(".phoneCheck").addClass("showb")):($(".MarkTextA").css("visibility","visible"),$(".phoneMarkA").css("display","none"))}),$("#submitBtn").on("click",function(){""!=$("#phoneNumber").val()&&""!=$("#telText").val()&&($(".marktexta").css("visibility","visible"),setTimeout(function(){$(".foldBtnA").removeClass("activeBtn"),$(".ShowBtnA").addClass("activeBtn"),$(".phoneInputA").css("display","none"),$(".ueserSet-up").height($(".Safety").height())},3e3))});var s=/^[\w]{6,20}$/;$("#beforePassW").blur(function(){s.test($(this).val())?($(".phoneMarkB").css("display","block"),$(".MarkTextB").css("visibility","hidden")):($(".MarkTextB").css("visibility","visible"),$(".phoneMarkB").css("display","none"))}),$(".nextBtnB").click(function(){s.test($("#beforePassW").val())&&($(".passwordCheckA").removeClass("showc"),$(".passwordCheck").addClass("showc"))}),$("#submitBtna").on("click",function(){$("#passwordA").val()==$("#passwordB").val()?($(".passwordMark").css("visibility","visible"),setTimeout(function(){$(".foldBtnB").removeClass("activeBtn"),$(".ShowBtnB").addClass("activeBtn"),$(".phoneInputB").css("display","none"),$(".ueserSet-up").height($(".Safety").height())},3e3)):alert("请输入正确密码")})}function o(){function e(){var e=document.getElementById("cityName").value;""!=e&&s.centerAndZoom(e,11);var t=new BMap.Geocoder;t.getPoint(e,function(e){if(e){var t=e.lng,n=e.lat;s.centerAndZoom(e,16),s.addOverlay(new BMap.Marker(e)),$("#latAndlog").val(t+","+n),console.log(e.lng,e.lat)}else alert("请输入正确地址")},"北京市")}var s=new BMap.Map("allmap"),t=new BMap.Point(116.416334,40.001868),n=document.getElementById("cityName");s.centerAndZoom(t,15),s.enableScrollWheelZoom(!0);var a=116.416334,i=40.001868,o=new BMap.Point(a,i);s.centerAndZoom(o,20);var r=new BMap.Marker(o);s.addOverlay(r),n.onblur=function(){e()}}function r(){var e=/^1(3|4|5|7|8)\d{9}$/;$(".assressPhone").blur(function(){e.test($(this).val())||alert("请输入正确手机号码")}),$(".addressStorage").on("click",function(){""==$(".assressName").val()||""==$(".assressPhone").val()||""==$(".assressCityName").val()?alert("请输入完整信息"):$(".addressCon").css("display","none")})}function l(){$(".addressSave").on("click",function(){$(".addressCon").css("display","none"),$(".userContainer").height($(".address").height()),$(".ueserSet-up").height($(".address").height())})}function c(){$(".addressList").on("click","li .dele",function(e){i=e.target;var s=confirm("确认删除该收获地址吗？");1==s&&$(i).parent().parent().remove()})}function h(){$(".addressList").on("click","li .addressModify",function(e){i=e.target,$(".addressCon").css("display","block"),$(".userContainer").height($(".address").height()),$(".ueserSet-up").height($(".address").height()),$(".assressName").val($(i).parent().parent().children(".receiver").text()),$(".assressPhone").val($(i).parent().parent().children(".phoneNum").text()),$(".assressCityName").val($(i).parent().parent().children(".street").text()),console.log($(i).parent().parent().children(".receiver").text()),o()})}e($(".userManageA>p"),$(".userManageListA")),e($(".userManageB>p"),$(".userManageListB")),e($(".userManageC>p"),$(".userManageListC")),s($("#username")),s($("#company-name")),s($("#address")),s($("#business")),s($(".assressName")),s($(".assressPhone")),s($(".assressCityName")),t(),n(),a(),$(".NewBtn").click(function(){$(".addressCon").css("display","block"),$(".userContainer").height($(".address").height()),$(".ueserSet-up").height($(".address").height()),o();var e=/^1(3|4|5|7|8)\d{9}$/;$(".assressPhone").blur(function(){e.test($(this).val())||alert("请输入正确手机号码")})}),r(),l(),c(),h()}),$(function(){function e(e){var s=null;return void 0!=window.createObjectURL?s=window.createObjectURL(e):void 0!=window.URL?s=window.URL.createObjectURL(e):void 0!=window.webkitURL&&(s=window.webkitURL.createObjectURL(e)),s}function s(s,t,n){$(s).on("change",function(){var s=this.value.toLowerCase().split("."),a=this.files[0].size,i=e(this.files[0]);return 2097152>a&&("jpg"==s[s.length-1]||"png"==s[s.length-1])?($(t).css("display","none"),$(this).nextAll(".img2").show(),$(this).nextAll(".img2").attr("src",i),$(n).css("display","block"),void 0):(alert("只支持JPG、PNG,大小不超过2M。"),!1)})}s($(".filepathA"),$(".bgA"),$(".againA")),s($(".filepathB"),$(".bgB"),$(".againB")),s($(".filepathC"),$(".bgC"),$(".againC")),s($(".filepathD"),$(".bgD"),$(".againD")),s($(".filepathE"),$(".bgE"),$(".againE")),s($(".filepathF"),$(".bgF"),$(".againF")),s($(".filepathG"),$(".bgG"),$(".againG"))});